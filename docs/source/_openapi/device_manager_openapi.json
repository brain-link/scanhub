{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/v1/device/health/readiness":{"get":{"tags":["health"],"summary":"Readiness","description":"Readiness health endpoint.\n\nInspects SQLAlchemy engine and checks if the device table exists.","operationId":"readiness_api_v1_device_health_readiness_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/device/":{"get":{"tags":["devices"],"summary":"Get Devices","description":"Retrieve the list of registered devices.\n\nReturns\n-------\n    List[Device]: The list of registered devices.","operationId":"get_devices_api_v1_device__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DeviceOut"},"type":"array","title":"Response Get Devices Api V1 Device  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/device/{device_id}":{"get":{"tags":["devices"],"summary":"Get Device","description":"Retrieve a specific device.\n\nArgs\n-------\n    device_id (str): The ID of the device.\n\nReturns\n-------\n    dict: The response containing the information about the device","operationId":"get_device_api_v1_device__device_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Device Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["devices"],"summary":"Delete Device","description":"Delete a device.\n\nArgs\n-------\n    device_id (str): The ID of the device.\n\nReturns\n-------\n    dict: The response indicating the success or failure of the deletion.","operationId":"delete_device_api_v1_device__device_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"device_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Device Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/createdevice":{"post":{"tags":["devices"],"summary":"Create Device","description":"Create device database entry.\n\nOnly devices which are created by a user via this endpoint and have the device_id and device_token\nthat result from this call configured correctly can later connect and register.\n\nParameters\n----------\nrequest:\n    DeviceCreationRequest to create device in Scanhub.\n    Further details of the device are later provided by the device itself.\n\nReturn\n------\ndevice_token:\n    the token of the device which the user should copy manually to the configuration file of the device.\n\ndevice_id:\n    the id of the device, should be copied to the devices config file together with the device_token.","operationId":"create_device_api_v1_device_createdevice_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceCreationRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/device/parameter/{device_id}":{"put":{"tags":["devices"],"summary":"Update acquisition/device parameter","description":"Update acquisition/device parameter.\n\nParameters\n----------\ndevice_id\n    Id of the device to be updated\npayload\n    Parameter dictionary\n\nReturns\n-------\n    Parameter dictionary\n\nRaises\n------\nHTTPException\n    404: Not found","operationId":"update_device_parameter_api_v1_device_parameter__device_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"device_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"string"}],"title":"Device Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/device/start_scan_via_websocket":{"post":{"tags":["devices"],"summary":"Start Scan Via Websocket","description":"Start a scan via a websocket that was already opened by the device.\n\nParameters\n----------\ndevice_task\n    Details of the scan and the device to scan on.","operationId":"start_scan_via_websocket_api_v1_device_start_scan_via_websocket_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcquisitionTaskOut"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"AcquisitionLimits":{"properties":{"patient_height":{"type":"integer","title":"Patient Height"},"patient_weight":{"type":"integer","title":"Patient Weight"},"patient_gender":{"$ref":"#/components/schemas/Gender","default":"NOT_GIVEN"},"patient_age":{"type":"integer","title":"Patient Age"}},"type":"object","required":["patient_height","patient_weight","patient_age"],"title":"AcquisitionLimits","description":"Pydantic definition of AcquisitionLimits."},"AcquisitionParameter":{"properties":{"fov_scaling":{"$ref":"#/components/schemas/XYZ"},"fov_offset":{"$ref":"#/components/schemas/XYZ"},"fov_rotation":{"$ref":"#/components/schemas/XYZ"}},"type":"object","required":["fov_scaling","fov_offset","fov_rotation"],"title":"AcquisitionParameter","description":"Pydantic definition of acquisition parameters."},"AcquisitionTaskOut":{"properties":{"workflow_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Workflow Id"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"task_type":{"$ref":"#/components/schemas/TaskType"},"destination":{"type":"string","title":"Destination"},"status":{"$ref":"#/components/schemas/ItemStatus"},"progress":{"type":"integer","title":"Progress"},"is_template":{"type":"boolean","title":"Is Template"},"device_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Device Id"},"sequence_id":{"type":"string","title":"Sequence Id"},"acquisition_parameter":{"$ref":"#/components/schemas/AcquisitionParameter"},"id":{"type":"string","format":"uuid","title":"Id"},"creator":{"type":"string","title":"Creator"},"datetime_created":{"type":"string","format":"date-time","title":"Datetime Created"},"datetime_updated":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Datetime Updated"},"results":{"items":{"$ref":"#/components/schemas/ResultOut"},"type":"array","title":"Results"},"acquisition_limits":{"anyOf":[{"$ref":"#/components/schemas/AcquisitionLimits"},{"type":"null"}]}},"type":"object","required":["name","description","task_type","destination","status","progress","is_template","sequence_id","acquisition_parameter","id","creator","datetime_created","results"],"title":"AcquisitionTaskOut","description":"Acquisition Task output model."},"DeviceCreationRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"status":{"anyOf":[{"$ref":"#/components/schemas/DeviceStatus"},{"type":"null"}]}},"type":"object","required":["name","description"],"title":"DeviceCreationRequest","description":"Device registration request pydantic model.\n\n(to be sent by user first adding the device to the platform)."},"DeviceOut":{"properties":{"device_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Name"},"serial_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Serial Number"},"manufacturer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Manufacturer"},"modality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modality"},"status":{"anyOf":[{"$ref":"#/components/schemas/DeviceStatus"},{"type":"null"}]},"site":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Site"},"parameter":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameter"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"datetime_created":{"type":"string","format":"date-time","title":"Datetime Created"},"datetime_updated":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Datetime Updated"}},"type":"object","required":["name","description","id","datetime_created"],"title":"DeviceOut","description":"Device pydantic output model."},"DeviceStatus":{"type":"string","enum":["ONLINE","OFFLINE","BUSY","ERROR"],"title":"DeviceStatus","description":"Pydantic definition of a commands."},"Gender":{"type":"string","enum":["MALE","FEMALE","OTHER","NOT_GIVEN"],"title":"Gender","description":"Pydantic definition of genders."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ItemStatus":{"type":"string","enum":["NEW","UPDATED","STARTED","FINISHED","ERROR","INPROGRESS"],"title":"ItemStatus","description":"Task status enum."},"ResultOut":{"properties":{"type":{"$ref":"#/components/schemas/ResultType"},"directory":{"type":"string","title":"Directory"},"files":{"items":{"type":"string"},"type":"array","title":"Files","default":[]},"meta":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Meta"},"task_id":{"type":"string","format":"uuid","title":"Task Id"},"id":{"type":"string","format":"uuid","title":"Id"},"datetime_created":{"type":"string","format":"date-time","title":"Datetime Created"}},"type":"object","required":["type","directory","task_id","id","datetime_created"],"title":"ResultOut","description":"Result output model."},"ResultType":{"type":"string","enum":["DICOM","MRD","NUMPY","CALIBRATION","NOT_SET"],"title":"ResultType","description":"Result type enum."},"TaskType":{"type":"string","enum":["ACQUISITION","DAG","RECONSTRUCTION","PROCESSING"],"title":"TaskType","description":"Task type enum."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"XYZ":{"properties":{"x":{"type":"number","title":"X"},"y":{"type":"number","title":"Y"},"z":{"type":"number","title":"Z"}},"type":"object","required":["x","y","z"],"title":"XYZ","description":"Pydantic definition of coordinates."}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"login"}}}}}}