{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/v1/device/health/readiness":{"get":{"tags":["health"],"summary":"Readiness","description":"Readiness health endpoint.\n\nInspects sqlalchemy engine and check if workflow table exists.\n\nReturns\n-------\n    Status docstring\n\nRaises\n------\nHTTPException\n    500: Workflow table not found","operationId":"readiness_api_v1_device_health_readiness_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/device/":{"get":{"tags":["devices"],"summary":"Get Devices","description":"Retrieve the list of registered devices.\n\nReturns\n-------\n    List[Device]: The list of registered devices.","operationId":"get_devices_api_v1_device__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Devices Api V1 Device  Get","type":"array","items":{"$ref":"#/components/schemas/DeviceOut"}}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/device/{device_id}":{"get":{"tags":["devices"],"summary":"Get Device","description":"Retrieve a specific device.\n\nArgs\n-------\n    device_id (str): The ID of the device.\n\nReturns\n-------\n    dict: The response containing the information about the device","operationId":"get_device_api_v1_device__device_id__get","parameters":[{"required":true,"schema":{"title":"Device Id","type":"string","format":"uuid"},"name":"device_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["devices"],"summary":"Delete Device","description":"Delete a device.\n\nArgs\n-------\n    device_id (str): The ID of the device.\n\nReturns\n-------\n    dict: The response indicating the success or failure of the deletion.","operationId":"delete_device_api_v1_device__device_id__delete","parameters":[{"required":true,"schema":{"title":"Device Id","type":"string","format":"uuid"},"name":"device_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/device/createdevice":{"post":{"tags":["devices"],"summary":"Create Device","description":"Create device database entry.\n\nOnly devices which are created by a user via this endpoint and have the device_id and device_token\nthat result from this call configured correctly can later connect and register.\n\nParameters\n----------\nrequest:\n    DeviceCreationRequest to create device in Scanhub.\n    Further details of the device are later provided by the device itself.\n\nReturn\n------\ndevice_token:\n    the token of the device which the user should copy manually to the configuration file of the device.\n\ndevice_id:\n    the id of the device, should be copied to the devices config file together with the device_token.","operationId":"create_device_api_v1_device_createdevice_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceCreationRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/device/start_scan_via_websocket":{"post":{"tags":["devices"],"summary":"Start Scan Via Websocket","description":"Start a scan via a websocket that was already opened by the device.\n\nParameters\n----------\ndevice_task\n    Details of the scan and the device to scan on.","operationId":"start_scan_via_websocket_api_v1_device_start_scan_via_websocket_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceTask"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"AcquisitionLimits":{"title":"AcquisitionLimits","required":["patient_height","patient_weight","patient_age"],"type":"object","properties":{"patient_height":{"title":"Patient Height","type":"integer"},"patient_weight":{"title":"Patient Weight","type":"integer"},"Gender":{"$ref":"#/components/schemas/Gender"},"patient_age":{"title":"Patient Age","type":"integer"}},"description":"Pydantic definition of AcquisitionLimits."},"Commands":{"title":"Commands","enum":["START","STOP","PAUSE"],"type":"string","description":"Pydantic definition of a commands."},"DeviceCreationRequest":{"title":"DeviceCreationRequest","required":["title","description"],"type":"object","properties":{"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"}},"description":"Device registration request pydantic model (to be sent by user first adding the device to the platform)."},"DeviceOut":{"title":"DeviceOut","required":["id","datetime_created","title","description","status"],"type":"object","properties":{"id":{"title":"Id","type":"string","format":"uuid"},"datetime_created":{"title":"Datetime Created","type":"string","format":"date-time"},"datetime_updated":{"title":"Datetime Updated","type":"string","format":"date-time"},"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"},"status":{"title":"Status","type":"string"},"name":{"title":"Name","type":"string"},"manufacturer":{"title":"Manufacturer","type":"string"},"modality":{"title":"Modality","type":"string"},"site":{"title":"Site","type":"string"},"ip_address":{"title":"Ip Address","type":"string"}},"description":"Device pydantic output model."},"DeviceTask":{"title":"DeviceTask","required":["device_id","record_id","command","parametrized_sequence","user_access_token"],"type":"object","properties":{"device_id":{"title":"Device Id","type":"string","format":"uuid"},"record_id":{"title":"Record Id","type":"string","format":"uuid"},"command":{"$ref":"#/components/schemas/Commands"},"parametrized_sequence":{"$ref":"#/components/schemas/ParametrizedSequence"},"user_access_token":{"title":"User Access Token","type":"string"}},"description":"Pydantic model definition of a device workflow."},"Gender":{"title":"Gender","enum":["MALE","FEMALE","OTHER","NOT_GIVEN"],"type":"string","description":"Pydantic definition of genders."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ParametrizedSequence":{"title":"ParametrizedSequence","required":["acquisition_limits","sequence_parameters","sequence"],"type":"object","properties":{"acquisition_limits":{"$ref":"#/components/schemas/AcquisitionLimits"},"sequence_parameters":{"$ref":"#/components/schemas/SequenceParameters"},"sequence":{"title":"Sequence","type":"string"}},"description":"Pydantic model definition of a parametrized sequence."},"SequenceParameters":{"title":"SequenceParameters","required":["fov","fov_offset"],"type":"object","properties":{"fov":{"$ref":"#/components/schemas/XYZ"},"fov_offset":{"$ref":"#/components/schemas/XYZ"}},"description":"Pydantic definition of SequenceParameters."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"XYZ":{"title":"XYZ","required":["X","Y","Z"],"type":"object","properties":{"X":{"title":"X","type":"number"},"Y":{"title":"Y","type":"number"},"Z":{"title":"Z","type":"number"}},"description":"Pydantic definition of coordinates."}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"login"}}}}}}